<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weather</title>
    <script src="script/lib/angular.js"></script>
    <script src="script/lib/require.js" data-main="script/weatherDisplayConfig.js"></script>
    <link rel="stylesheet" href="style/base.css"/>
</head>
<body ng-controller="WeatherDisplayController" ng-cloak="true">
<div>
    <div id="location">{{wData.conditions.location.name}} {{wData.conditions.location.zip}}</div>
    <div id="current" class="tile">
        <div class="header">Current</div>
        <br/>
        <img ng-src="{{wData.conditions.icon}}"/>
        <br/>
        <div>
            <span class="imperial" ng-show="preferences.showImperial">{{wData.conditions.temp.actual.imperial}} &deg;F</span>
            <span class="scale-separator" ng-show="preferences.showImperial && (preferences.showMetric || preferences.showSi)">/</span>
            <span class="metric" ng-show="preferences.showMetric">{{wData.conditions.temp.actual.metric}} &deg;C</span>
            <span class="scale-separator" ng-show="preferences.showMetric && preferences.showSi">/</span>
            <span class="si" ng-show="preferences.showSi">{{wData.conditions.temp.actual.si}} K</span>
            <br/>
            <span>Feels like: </span>
            <span class="imperial" ng-show="preferences.showImperial">{{wData.conditions.temp.feelsLike.imperial}} &deg;F</span>
            <span class="scale-separator" ng-show="preferences.showImperial && (preferences.showMetric || preferences.showSi)">/</span>
            <span class="metric" ng-show="preferences.showMetric">{{wData.conditions.temp.feelsLike.metric}} &deg;C</span>
            <span class="scale-separator" ng-show="preferences.showMetric && preferences.showSi">/</span>
            <span class="si" ng-show="preferences.showSi">{{wData.conditions.temp.feelsLike.si}} K</span>
            <br/>
        </div>
        <div>
            <div>Wind</div>
            <div>{{wData.conditions.wind.summary}}</div>
            <span class="imperial" ng-show="preferences.showImperial">{{wData.conditions.wind.speed.mph}} mph</span>
            <span class="scale-separator" ng-show="preferences.showImperial && preferences.showMetric">/</span>
            <span class="metric" ng-show="preferences.showMetric">{{wData.conditions.wind.speed.kph}} kph</span>
            {{wData.conditions.wind.direction}}
        </div>
    </div>
    <div id="forecast-today" class="tile">
        <div class="header">Today</div>
        <br/>
        <img ng-src="{{wData.forecast.today.icon}}"/>
        <br/>
        <span class="imperial" ng-show="preferences.showImperial">{{wData.forecast.today.text.imperial}}</span>
        <br class="scale-separator" ng-show="preferences.showImperial && preferences.showMetric"/>
        <span class="metric" ng-show="preferences.showMetric">{{wData.forecast.today.text.metric}}</span>
        <br/>
        <div>
            Low:
            <span class="imperial" ng-show="preferences.showImperial">{{wData.forecast.today.temp.low.imperial}} &deg;F</span>
            <span class="scale-separator" ng-show="preferences.showImperial && (preferences.showMetric || preferences.showSi)">/</span>
            <span class="metric" ng-show="preferences.showMetric">{{wData.forecast.today.temp.low.metric}} &deg;C</span>
            <span class="scale-separator" ng-show="preferences.showMetric && preferences.showSi">/</span>
            <span class="si" ng-show="preferences.showSi">{{wData.forecast.today.temp.low.si}} K</span>
            <br/>
            High:
            <span class="imperial" ng-show="preferences.showImperial">{{wData.forecast.today.temp.high.imperial}} &deg;F</span>
            <span class="scale-separator" ng-show="preferences.showImperial && (preferences.showMetric || preferences.showSi)">/</span>
            <span class="metric" ng-show="preferences.showMetric">{{wData.forecast.today.temp.high.metric}} &deg;C</span>
            <span class="scale-separator" ng-show="preferences.showMetric && preferences.showSi">/</span>
            <span class="si" ng-show="preferences.showSi">{{wData.forecast.today.temp.high.si}} K</span>
        </div>
        <div>
            <div>Wind</div>
            <span class="imperial" ng-show="preferences.showImperial">{{wData.forecast.today.wind.speed.mph}} mph</span>
            <span class="scale-separator" ng-show="preferences.showImperial && preferences.showMetric">/</span>
            <span class="metric" ng-show="preferences.showMetric">{{wData.forecast.today.wind.speed.kph}} kph</span>
            {{wData.forecast.today.wind.direction}}
        </div>
    </div>
    <div id="yesterday" class="tile">
        <div class="header">Yesterday</div>
        <br/>
        <img ng-src="{{wData.history.yesterday.icon}}" title="{{wData.history.yesterday.iconName}}"/>
        <br/>
        <div>
            <span ng-repeat="text in wData.history.yesterday.texts">{{text}}{{$last ? "" : " / "}}</span>
        </div>
        <br/>
        <div>
            Low:
            <span class="imperial" ng-show="preferences.showImperial">{{wData.history.yesterday.temp.low.imperial}} &deg;F</span>
            <span class="scale-separator" ng-show="preferences.showImperial && (preferences.showMetric || preferences.showSi)">/</span>
            <span class="metric" ng-show="preferences.showMetric">{{wData.history.yesterday.temp.low.metric}} &deg;C</span>
            <span class="scale-separator" ng-show="preferences.showMetric && preferences.showSi">/</span>
            <span class="si" ng-show="preferences.showSi">{{wData.history.yesterday.temp.low.si}} K</span>
            <br/>
            High:
            <span class="imperial" ng-show="preferences.showImperial">{{wData.history.yesterday.temp.high.imperial}} &deg;F</span>
            <span class="scale-separator" ng-show="preferences.showImperial && (preferences.showMetric || preferences.showSi)">/</span>
            <span class="metric" ng-show="preferences.showMetric">{{wData.history.yesterday.temp.high.metric}} &deg;C</span>
            <span class="scale-separator" ng-show="preferences.showMetric && preferences.showSi">/</span>
            <span class="si" ng-show="preferences.showSi">{{wData.history.yesterday.temp.high.si}} K</span>
            <br/>
            Average:
            <span class="imperial" ng-show="preferences.showImperial">{{wData.history.yesterday.temp.mean.imperial}} &deg;F</span>
            <span class="scale-separator" ng-show="preferences.showImperial && (preferences.showMetric || preferences.showSi)">/</span>
            <span class="metric" ng-show="preferences.showMetric">{{wData.history.yesterday.temp.mean.metric}} &deg;C</span>
            <span class="scale-separator" ng-show="preferences.showMetric && preferences.showSi">/</span>
            <span class="si" ng-show="preferences.showSi">{{wData.history.yesterday.temp.mean.si}} K</span>
        </div>
        <div>
            <div>Wind</div>
            <span class="imperial" ng-show="preferences.showImperial">{{wData.history.yesterday.wind.speed.mph}} mph</span>
            <span class="scale-separator" ng-show="preferences.showImperial && preferences.showMetric">/</span>
            <span class="metric" ng-show="preferences.showMetric">{{wData.history.yesterday.wind.speed.kph}} kph</span>
            {{wData.history.yesterday.wind.direction}}
        </div>
    </div>
    <button ng-click="toggleConfigModal()">Preferences</button>
    <div id="modal-background" ng-show="showSettingsModal"></div>
    <div id="preferences-modal" ng-show="showSettingsModal">
        <div class="close" ng-click="toggleConfigModal()">&times;</div>
        <div>Location</div>
        <label for="location-text">Location</label>
        <input id="location-text" ng-model="preferences.location"/>
        <div>Units</div>
        <label for="imperial-radio">Imperial</label>
        <input id="imperial-radio" type="checkbox" ng-model="preferences.showImperial"/>
        <br/>
        <label for="metric-radio">Metric</label>
        <input id="metric-radio" type="checkbox" ng-model="preferences.showMetric"/>
        <br/>
        <label for="si-radio">SI</label>
        <input id="si-radio" type="checkbox" ng-model="preferences.showSi"/>
    </div>
</div>
</body>
</html>
